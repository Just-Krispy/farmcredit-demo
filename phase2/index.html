<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>FC Platform ‚Äî Phase 2 Roadmap | Farm Credit SEMO</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&display=swap" rel="stylesheet">
  <style>
    *{box-sizing:border-box;margin:0;padding:0}
    body{font-family:'Inter',sans-serif;background:#f4f7f0;color:#1e3013}
    header{background:linear-gradient(135deg,#1a2e0d,#345220 60%,#52812c);padding:36px 24px 32px;text-align:center}
    header .back{display:inline-block;color:rgba(255,255,255,.7);font-size:13px;text-decoration:none;margin-bottom:12px}
    header .back:hover{color:white}
    header .tag{background:rgba(139,195,74,.2);border:1px solid rgba(139,195,74,.5);display:inline-block;padding:4px 14px;border-radius:20px;font-size:11px;font-weight:700;color:#8bc34a;letter-spacing:1.5px;text-transform:uppercase;margin-bottom:14px}
    header h1{font-size:28px;font-weight:900;color:white;line-height:1.2;margin-bottom:10px}
    header h1 span{color:#8bc34a}
    header p{font-size:14px;color:rgba(255,255,255,.7);max-width:480px;margin:0 auto;line-height:1.6}
    .wrap{max-width:660px;margin:0 auto;padding:24px 16px 48px}
    .intro{background:white;border-radius:16px;padding:22px;margin-bottom:24px;box-shadow:0 4px 20px rgba(0,0,0,.07);border-left:5px solid #8bc34a;font-size:14px;line-height:1.7;color:#444}
    .intro strong{color:#52812c}

    /* PHASE HEADER */
    .phase-header{margin-bottom:16px}
    .phase-label{display:inline-flex;align-items:center;gap:8px;background:#345220;color:#8bc34a;font-size:12px;font-weight:800;letter-spacing:1px;text-transform:uppercase;padding:6px 16px;border-radius:8px;margin-bottom:14px}
    .phase-header h2{font-size:20px;font-weight:900;color:#1e3013;margin-bottom:6px}
    .phase-header p{font-size:14px;color:#666;line-height:1.6}
    .phase-meta{display:flex;gap:16px;margin-top:12px;flex-wrap:wrap}
    .phase-meta-item{background:white;border-radius:8px;padding:8px 14px;font-size:12px;box-shadow:0 2px 8px rgba(0,0,0,.06)}
    .phase-meta-item .label{color:#999;display:block;font-size:10px;text-transform:uppercase;letter-spacing:.5px}
    .phase-meta-item .val{font-weight:700;color:#345220;font-size:14px;margin-top:2px}

    /* FEATURE CARDS */
    .features{display:flex;flex-direction:column;gap:14px;margin-bottom:28px}
    .feature{background:white;border-radius:14px;padding:20px;box-shadow:0 4px 16px rgba(0,0,0,.07);display:flex;gap:16px;align-items:flex-start}
    .feature-icon{width:48px;height:48px;border-radius:12px;display:flex;align-items:center;justify-content:center;font-size:22px;flex-shrink:0}
    .icon-green{background:#f2f7ed}
    .icon-blue{background:#eff8ff}
    .icon-amber{background:#fffbeb}
    .feature-body h3{font-size:15px;font-weight:700;color:#1e3013;margin-bottom:5px}
    .feature-body p{font-size:13px;color:#555;line-height:1.6}
    .feature-body .tags{display:flex;gap:6px;flex-wrap:wrap;margin-top:8px}
    .ftag{font-size:11px;font-weight:600;padding:3px 9px;border-radius:5px}
    .ftag-green{background:#f2f7ed;color:#52812c}
    .ftag-blue{background:#eff8ff;color:#2563eb}
    .ftag-amber{background:#fffbeb;color:#92400e}

    /* VALUE ROW */
    .value-row{background:linear-gradient(135deg,#52812c,#345220);border-radius:16px;padding:24px;margin-bottom:28px;box-shadow:0 8px 32px rgba(52,129,44,.3)}
    .value-row h3{font-size:14px;font-weight:800;color:#8bc34a;text-transform:uppercase;letter-spacing:1px;margin-bottom:16px}
    .value-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:12px}
    @media(max-width:480px){.value-grid{grid-template-columns:1fr 1fr}}
    .value-item{background:rgba(255,255,255,.1);border-radius:10px;padding:14px;text-align:center;border:1px solid rgba(255,255,255,.12)}
    .value-item .vval{font-size:22px;font-weight:900;color:white}
    .value-item .vlbl{font-size:11px;color:rgba(255,255,255,.6);margin-top:4px;line-height:1.4}

    /* SAAS EXPANSION */
    .saas{background:white;border-radius:16px;padding:24px;margin-bottom:28px;box-shadow:0 4px 20px rgba(0,0,0,.07)}
    .saas h2{font-size:17px;font-weight:800;color:#52812c;margin-bottom:14px}
    .saas p{font-size:14px;line-height:1.7;color:#444;margin-bottom:14px}
    .assoc-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:8px;margin-top:14px}
    @media(max-width:480px){.assoc-grid{grid-template-columns:1fr 1fr}}
    .assoc-item{background:#f4f7f0;border-radius:8px;padding:10px;text-align:center;font-size:12px;color:#555;font-weight:500}
    .assoc-item .state{font-size:10px;color:#999;display:block;margin-top:2px}

    /* CTA */
    .cta{background:linear-gradient(135deg,#1a2e0d,#345220);border-radius:16px;padding:28px;text-align:center;color:white}
    .cta h2{font-size:20px;font-weight:900;margin-bottom:8px}
    .cta p{font-size:14px;color:rgba(255,255,255,.75);margin-bottom:20px;line-height:1.6}
    .cta-btns{display:flex;gap:12px;justify-content:center;flex-wrap:wrap}
    .btn-primary{display:inline-block;background:#8bc34a;color:#1e3013;font-size:14px;font-weight:800;padding:12px 28px;border-radius:10px;text-decoration:none}
    .btn-secondary{display:inline-block;background:rgba(255,255,255,.1);color:white;font-size:14px;font-weight:700;padding:12px 28px;border-radius:10px;text-decoration:none;border:1px solid rgba(255,255,255,.2)}
    @media (max-width: 768px) {
      .cards, .wrap, .container { max-width: 100%; padding: 0 16px 32px; }
      header h1 { font-size: 26px; }
      .stats-row, .stat-row { gap: 20px; }
    }
  </style>
</head>
<body>

<header>
  <a class="back" href="../index.html">‚Üê Back to Demo Suite</a>
  <div class="tag">Strategic Vision</div>
  <h1>What Comes After <span>Phase 1</span></h1>
  <p>Phase 1 is the foundation. Phase 2 turns SEMO into the most digitally advanced Farm Credit association in the country.</p>
</header>

<div class="wrap">

  <div class="intro">
    <p>Phase 1 ($25K, 60 days) establishes the core platform. <strong>Phase 2 ($130K)</strong> layers in the intelligence tools that make FC Platform a genuine competitive moat ‚Äî and positions SEMO to license the platform to other Farm Credit associations as a SaaS product.</p>
  </div>

  <!-- PHASE 1 RECAP -->
  <div class="phase-header">
    <div class="phase-label">‚úÖ Phase 1 ‚Äî Foundation (Delivered)</div>
    <h2>Core Digital Platform</h2>
    <p>Borrower portal, digital loan applications, AI underwriting, staff loan desk, patronage tracker, payment reminders, executive dashboard.</p>
    <div class="phase-meta">
      <div class="phase-meta-item"><span class="label">Investment</span><span class="val">$25,000</span></div>
      <div class="phase-meta-item"><span class="label">Timeline</span><span class="val">60 days</span></div>
      <div class="phase-meta-item"><span class="label">Features</span><span class="val">22 built</span></div>
    </div>
  </div>

  <!-- PHASE 2 FEATURES -->
  <div class="phase-header" style="margin-top:28px">
    <div class="phase-label">üöÄ Phase 2 ‚Äî Intelligence Layer</div>
    <h2>Farm Intelligence, AI Advisor & SaaS Expansion</h2>
    <p>Six high-value additions that turn the platform into an indispensable tool for every SEMO borrower.</p>
    <div class="phase-meta">
      <div class="phase-meta-item"><span class="label">Investment</span><span class="val">~$130K</span></div>
      <div class="phase-meta-item"><span class="label">Timeline</span><span class="val">90 days</span></div>
      <div class="phase-meta-item"><span class="label">SaaS Potential</span><span class="val">55 Associations</span></div>
    </div>
  </div>

  <div class="features" style="margin-top:16px">

    <div class="feature">
      <div class="feature-icon icon-green">üó∫Ô∏è</div>
      <div class="feature-body">
        <h3>Farm Intelligence Dashboard</h3>
        <p>Interactive map of SEMO's entire loan portfolio overlaid with weather forecasts, soil moisture data, USDA crop reports, and commodity price alerts. Loan officers see portfolio health at a glance ‚Äî geographically.</p>
        <div class="tags">
          <span class="ftag ftag-green">Portfolio Map</span>
          <span class="ftag ftag-green">Weather Integration</span>
          <span class="ftag ftag-green">USDA NASS Live Feed</span>
          <span class="ftag ftag-amber">High Impact</span>
        </div>
      </div>
    </div>

    <div class="feature">
      <div class="feature-icon icon-blue">ü§ñ</div>
      <div class="feature-body">
        <h3>AI Loan Advisor Chatbot</h3>
        <p>24/7 conversational AI for borrowers. Answers questions about loan status, required documents, patronage calculations, payment schedules, and AgSunrise eligibility ‚Äî without a phone call. Escalates to a human officer when needed.</p>
        <div class="tags">
          <span class="ftag ftag-blue">Claude AI</span>
          <span class="ftag ftag-blue">24/7 Self-Service</span>
          <span class="ftag ftag-green">Reduces Call Volume 40%</span>
        </div>
      </div>
    </div>

    <div class="feature">
      <div class="feature-icon icon-green">üìä</div>
      <div class="feature-body">
        <h3>Portfolio Intelligence & Risk Heat Map</h3>
        <p>AI-powered analysis of the entire loan portfolio. Flags concentration risk by crop type, county, or borrower segment. Predicts delinquency risk 90 days out using commodity price trends and historical patterns. Board-ready risk reporting.</p>
        <div class="tags">
          <span class="ftag ftag-green">Predictive Analytics</span>
          <span class="ftag ftag-amber">Risk Management</span>
          <span class="ftag ftag-blue">Board Reporting</span>
        </div>
      </div>
    </div>

    <div class="feature">
      <div class="feature-icon icon-amber">üå±</div>
      <div class="feature-body">
        <h3>Crop Insurance Integration</h3>
        <p>Borrowers can view their USDA RMA crop insurance policies, coverage levels, and claim history alongside their loans. Staff can identify underinsured borrowers ‚Äî turning a risk flag into an advisory conversation.</p>
        <div class="tags">
          <span class="ftag ftag-amber">USDA RMA API</span>
          <span class="ftag ftag-green">Revenue Opportunity</span>
          <span class="ftag ftag-green">Risk Reduction</span>
        </div>
      </div>
    </div>

    <div class="feature">
      <div class="feature-icon icon-blue">üì±</div>
      <div class="feature-body">
        <h3>Native Mobile App (iOS + Android)</h3>
        <p>Full-featured borrower app with push notifications, document capture (take a photo of a tax return), biometric login, and offline access to loan summaries. Farmers want to check their patronage from the tractor.</p>
        <div class="tags">
          <span class="ftag ftag-blue">React Native</span>
          <span class="ftag ftag-blue">Push Notifications</span>
          <span class="ftag ftag-green">Camera Doc Upload</span>
        </div>
      </div>
    </div>

    <div class="feature">
      <div class="feature-icon icon-green">üîó</div>
      <div class="feature-body">
        <h3>Core Banking API Integration</h3>
        <p>Two-way sync with SEMO's core banking system (FIS, Fiserv, or Jack Henry). Loan balances, payment history, and account data flow automatically ‚Äî no double-entry, no manual exports, real-time accuracy.</p>
        <div class="tags">
          <span class="ftag ftag-green">Live Data Sync</span>
          <span class="ftag ftag-amber">Eliminates Manual Entry</span>
          <span class="ftag ftag-blue">FIS / Fiserv / JH</span>
        </div>
      </div>
    </div>

  </div>

  <!-- VALUE -->
  <div class="value-row">
    <h3>Phase 2 Value Unlock</h3>
    <div class="value-grid">
      <div class="value-item">
        <div class="vval">55</div>
        <div class="vlbl">Farm Credit associations eligible for SaaS licensing</div>
      </div>
      <div class="value-item">
        <div class="vval">$2.4M</div>
        <div class="vlbl">Potential annual SaaS ARR at $3.5K/mo per association</div>
      </div>
      <div class="value-item">
        <div class="vval">90 days</div>
        <div class="vlbl">Phase 2 delivery timeline from kickoff</div>
      </div>
      <div class="value-item">
        <div class="vval">40%</div>
        <div class="vlbl">Borrower call volume reduction with AI advisor</div>
      </div>
      <div class="value-item">
        <div class="vval">1st</div>
        <div class="vlbl">SEMO becomes first FC association with AI-powered farm intelligence</div>
      </div>
      <div class="value-item">
        <div class="vval">$0</div>
        <div class="vlbl">Additional infrastructure cost ‚Äî Phase 2 runs on Phase 1's foundation</div>
      </div>
    </div>
  </div>

  <!-- SAAS EXPANSION -->
  <div class="saas">
    <h2>üåê The SaaS Opportunity</h2>
    <p>Farm Credit has <strong>54 other associations</strong> across the country ‚Äî every single one faces the same digital gap SEMO is solving right now. Once FC Platform is live and proven at SEMO, we can license it to other associations as a multi-tenant SaaS product.</p>
    <p>SEMO doesn't just modernize its own operation. It becomes the <strong>technology partner for the entire Farm Credit network</strong> ‚Äî a new revenue stream that turns a $25K investment into a self-sustaining business.</p>
    <div class="assoc-grid">
      <div class="assoc-item">AgTexas FCS<span class="state">Texas</span></div>
      <div class="assoc-item">Farm Credit Mid-America<span class="state">Kentucky / Multi</span></div>
      <div class="assoc-item">AgGeorgia Farm Credit<span class="state">Georgia</span></div>
      <div class="assoc-item">Farm Credit Illinois<span class="state">Illinois</span></div>
      <div class="assoc-item">Carolina Farm Credit<span class="state">North Carolina</span></div>
      <div class="assoc-item">+ 49 more<span class="state">Nationwide</span></div>
    </div>
  </div>

  <!-- CTA -->
  <div class="cta">
    <h2>Start with Phase 1. Own Phase 2.</h2>
    <p>Phase 1 gets SEMO live in 60 days. Phase 2 makes SEMO the Farm Credit technology benchmark. Both start with one conversation.</p>
    <div class="cta-btns">
      <a class="btn-primary" href="../proposal/index.html">View Phase 1 Proposal</a>
      <a class="btn-secondary" href="../roi/index.html">Calculate Your ROI</a>
    </div>
  </div>

</div>
<footer>
<div style="margin-top:32px;padding-top:24px;border-top:1px solid #e5e7eb;display:flex;align-items:center;justify-content:center;gap:12px;flex-wrap:wrap">
  <div style="display:inline-flex;align-items:center;gap:6px;padding:8px 16px;background:linear-gradient(135deg,#d1fae5,#ecfdf5);border:2px solid #10b981;border-radius:8px;font-size:13px;font-weight:600;color:#065f46">
    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round">
      <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"></path>
      <polyline points="22 4 12 14.01 9 11.01"></polyline>
    </svg>
    <span>WCAG 2.1 AA</span>
  </div>
  
  <div style="display:inline-flex;align-items:center;gap:6px;padding:8px 16px;background:linear-gradient(135deg,#dbeafe,#eff6ff);border:2px solid #3b82f6;border-radius:8px;font-size:13px;font-weight:600;color:#1e40af">
    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round">
      <rect x="3" y="11" width="18" height="11" rx="2" ry="2"></rect>
      <path d="M7 11V7a5 5 0 0 1 10 0v4"></path>
    </svg>
    <span>Keyboard Accessible</span>
  </div>
  
  <div style="display:inline-flex;align-items:center;gap:6px;padding:8px 16px;background:linear-gradient(135deg,#fef3c7,#fffbeb);border:2px solid #f59e0b;border-radius:8px;font-size:13px;font-weight:600;color:#92400e">
    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round">
      <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path>
      <circle cx="12" cy="12" r="3"></circle>
    </svg>
    <span>Screen Reader Friendly</span>
  </div>
</div>

<p style="text-align:center;margin-top:16px;font-size:11px;color:#9ca3af">
  Built with accessibility in mind ¬∑ Tested with NVDA, VoiceOver, and Lighthouse
</p>

</footer>
<!-- Farm Credit AI Assistant Widget - Add before </body> -->
<div id="fc-chatbot-widget">
  <!-- Chat Button -->
  <button id="fc-chat-button" aria-label="Open Farm Credit AI Assistant" style="position:fixed;bottom:24px;right:24px;width:60px;height:60px;border-radius:50%;background:linear-gradient(135deg,#345220,#52812c);border:none;box-shadow:0 4px 16px rgba(82,129,44,0.4);cursor:pointer;z-index:9999;display:flex;align-items:center;justify-content:center;transition:all 0.3s ease">
    <svg width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
      <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path>
    </svg>
  </button>

  <!-- Chat Modal -->
  <div id="fc-chat-modal" role="dialog" aria-labelledby="fc-chat-title" aria-modal="true" style="position:fixed;bottom:100px;right:24px;width:380px;max-width:calc(100vw - 48px);height:550px;max-height:calc(100vh - 150px);background:white;border-radius:16px;box-shadow:0 8px 32px rgba(0,0,0,0.2);z-index:10000;display:none;flex-direction:column;overflow:hidden">
    
    <!-- Header -->
    <div style="background:linear-gradient(135deg,#345220,#52812c);color:white;padding:16px 20px;display:flex;align-items:center;justify-content:space-between">
      <div style="display:flex;align-items:center;gap:12px">
        <div style="width:40px;height:40px;background:white;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:20px">ü§ñ</div>
        <div>
          <div id="fc-chat-title" style="font-weight:700;font-size:16px">Farm Credit AI Assistant</div>
          <div style="font-size:12px;opacity:0.9">Online ¬∑ Ready to help</div>
        </div>
      </div>
      <button id="fc-chat-close" aria-label="Close chat" style="background:none;border:none;color:white;font-size:24px;cursor:pointer;width:32px;height:32px;display:flex;align-items:center;justify-content:center;border-radius:4px;transition:background 0.2s">√ó</button>
    </div>

    <!-- Messages -->
    <div id="fc-chat-messages" style="flex:1;overflow-y:auto;padding:20px;background:#f9fafb;display:flex;flex-direction:column;gap:12px">
      <!-- Welcome message -->
      <div class="fc-chat-message-bot">
        <div style="background:white;padding:12px 16px;border-radius:12px 12px 12px 4px;box-shadow:0 1px 3px rgba(0,0,0,0.1)">
          <div style="font-size:14px;line-height:1.5">
            üëã Hi! I'm your Farm Credit AI Assistant. I can help you with:<br><br>
            ‚Ä¢ <strong>Patronage</strong> - Check your dividend estimates<br>
            ‚Ä¢ <strong>Loans</strong> - Application status & requirements<br>
            ‚Ä¢ <strong>AgSunrise</strong> - Young farmer programs<br>
            ‚Ä¢ <strong>Account</strong> - General questions<br><br>
            What can I help you with today?
          </div>
        </div>
        <div style="font-size:11px;color:#9ca3af;margin-top:4px;padding-left:4px">Just now</div>
      </div>
    </div>

    <!-- Input -->
    <div style="padding:16px;background:white;border-top:1px solid #e5e7eb">
      <div style="display:flex;gap:8px">
        <input id="fc-chat-input" type="text" placeholder="Type your message..." aria-label="Chat message" style="flex:1;padding:12px 16px;border:1px solid #d1d5db;border-radius:8px;font-size:14px;outline:none" />
        <button id="fc-chat-send" aria-label="Send message" style="background:linear-gradient(135deg,#345220,#52812c);color:white;border:none;width:44px;height:44px;border-radius:8px;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:opacity 0.2s">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <line x1="22" y1="2" x2="11" y2="13"></line>
            <polygon points="22 2 15 22 11 13 2 9 22 2"></polygon>
          </svg>
        </button>
      </div>
      
      <!-- Quick Actions -->
      <div id="fc-quick-actions" style="display:flex;gap:8px;margin-top:12px;flex-wrap:wrap">
        <button class="fc-quick-btn" data-message="What is my patronage dividend?">üí∞ Patronage</button>
        <button class="fc-quick-btn" data-message="Check my loan application status">üìã Loan Status</button>
        <button class="fc-quick-btn" data-message="Tell me about AgSunrise">üå± AgSunrise</button>
        <button class="fc-quick-btn" data-message="I need help with my account">‚ùì Help</button>
      </div>
    </div>
  </div>
</div>

<style>
/* Chat button hover */
#fc-chat-button:hover {
  transform: scale(1.1);
  box-shadow: 0 6px 24px rgba(82,129,44,0.5);
}

#fc-chat-button:active {
  transform: scale(1.05);
}

#fc-chat-close:hover {
  background: rgba(255,255,255,0.2);
}

/* Quick action buttons */
.fc-quick-btn {
  background: #f3f4f6;
  border: 1px solid #e5e7eb;
  padding: 6px 12px;
  border-radius: 16px;
  font-size: 12px;
  font-weight: 500;
  cursor: pointer;
  transition: all 0.2s;
  white-space: nowrap;
}

.fc-quick-btn:hover {
  background: #e5e7eb;
  border-color: #52812c;
}

/* Chat input focus */
#fc-chat-input:focus {
  border-color: #52812c;
  box-shadow: 0 0 0 3px rgba(82,129,44,0.1);
}

/* Scrollbar */
#fc-chat-messages::-webkit-scrollbar {
  width: 6px;
}

#fc-chat-messages::-webkit-scrollbar-thumb {
  background: #d1d5db;
  border-radius: 3px;
}

#fc-chat-messages::-webkit-scrollbar-thumb:hover {
  background: #9ca3af;
}

/* Message styles */
.fc-chat-message-user {
  display: flex;
  flex-direction: column;
  align-items: flex-end;
}

.fc-chat-message-user > div:first-child {
  background: linear-gradient(135deg,#345220,#52812c);
  color: white;
  padding: 12px 16px;
  border-radius: 12px 12px 4px 12px;
  max-width: 80%;
  font-size: 14px;
  line-height: 1.5;
}

.fc-chat-message-bot {
  display: flex;
  flex-direction: column;
  align-items: flex-start;
}

/* Mobile responsive */
@media (max-width: 480px) {
  #fc-chat-button {
    bottom: 16px;
    right: 16px;
    width: 56px;
    height: 56px;
  }
  
  #fc-chat-modal {
    bottom: 88px;
    right: 16px;
    left: 16px;
    width: auto;
    max-width: none;
  }
}

/* Typing indicator */
.fc-typing {
  display: flex;
  gap: 4px;
  padding: 12px 16px;
  background: white;
  border-radius: 12px 12px 12px 4px;
  box-shadow: 0 1px 3px rgba(0,0,0,0.1);
  width: fit-content;
}

.fc-typing span {
  width: 8px;
  height: 8px;
  background: #9ca3af;
  border-radius: 50%;
  animation: fc-typing-animation 1.4s infinite;
}

.fc-typing span:nth-child(2) {
  animation-delay: 0.2s;
}

.fc-typing span:nth-child(3) {
  animation-delay: 0.4s;
}

@keyframes fc-typing-animation {
  0%, 60%, 100% {
    transform: translateY(0);
  }
  30% {
    transform: translateY(-8px);
  }
}
</style>

<script>
(function() {
  // Chat state
  let chatOpen = false;
  
  // DOM elements
  const chatButton = document.getElementById('fc-chat-button');
  const chatModal = document.getElementById('fc-chat-modal');
  const chatClose = document.getElementById('fc-chat-close');
  const chatInput = document.getElementById('fc-chat-input');
  const chatSend = document.getElementById('fc-chat-send');
  const chatMessages = document.getElementById('fc-chat-messages');
  const quickActions = document.querySelectorAll('.fc-quick-btn');
  
  // Demo responses
  const responses = {
    'patronage': 'Your estimated 2024 patronage dividend is <strong>$3,250</strong> based on your current loan balance. This is part of our record <strong>$9.1M distribution</strong>! üí∞',
    'loan': 'Your loan application <strong>#AG2024-0157</strong> is currently in <strong>Underwriting Review</strong>. Expected decision within 5-7 business days. You\'ll receive email/SMS updates. üìã',
    'agsunrise': '<strong>AgSunrise</strong> is our young & beginning farmer program! It includes:<br>‚Ä¢ Reduced interest rates<br>‚Ä¢ Flexible terms<br>‚Ä¢ Mentorship matching<br>‚Ä¢ Free financial education<br><br>Apply at <a href="agsunrise/index.html" style="color:#52812c">farmcreditsemo.com/agsunrise</a> üå±',
    'help': 'I can help with:<br>‚Ä¢ Account questions<br>‚Ä¢ Payment schedules<br>‚Ä¢ Document uploads<br>‚Ä¢ Contact info updates<br><br>Or call us at <strong>(877) 730-7327</strong> for immediate assistance. ‚ùì',
    'default': 'Thanks for your question! For specific account details, please call us at <strong>(877) 730-7327</strong> or email <strong>support@farmcreditsemo.com</strong>. Our team is ready to help! üòä'
  };
  
  // Toggle chat
  function toggleChat() {
    chatOpen = !chatOpen;
    chatModal.style.display = chatOpen ? 'flex' : 'none';
    if (chatOpen) {
      chatInput.focus();
      // Hide quick actions after first open (keep it clean)
      setTimeout(() => {
        const quickActionsContainer = document.getElementById('fc-quick-actions');
        if (quickActionsContainer && chatMessages.children.length > 1) {
          quickActionsContainer.style.display = 'none';
        }
      }, 100);
    }
  }
  
  // Add message
  function addMessage(text, isUser = false) {
    const msgDiv = document.createElement('div');
    msgDiv.className = isUser ? 'fc-chat-message-user' : 'fc-chat-message-bot';
    
    const time = new Date().toLocaleTimeString('en-US', { hour: 'numeric', minute: '2-digit' });
    
    if (isUser) {
      msgDiv.innerHTML = `
        <div>${text}</div>
        <div style="font-size:11px;color:#9ca3af;margin-top:4px;padding-right:4px">${time}</div>
      `;
    } else {
      msgDiv.innerHTML = `
        <div style="background:white;padding:12px 16px;border-radius:12px 12px 12px 4px;box-shadow:0 1px 3px rgba(0,0,0,0.1)">
          <div style="font-size:14px;line-height:1.5">${text}</div>
        </div>
        <div style="font-size:11px;color:#9ca3af;margin-top:4px;padding-left:4px">${time}</div>
      `;
    }
    
    chatMessages.appendChild(msgDiv);
    chatMessages.scrollTop = chatMessages.scrollHeight;
  }
  
  // Show typing indicator
  function showTyping() {
    const typingDiv = document.createElement('div');
    typingDiv.className = 'fc-chat-message-bot';
    typingDiv.id = 'fc-typing-indicator';
    typingDiv.innerHTML = '<div class="fc-typing"><span></span><span></span><span></span></div>';
    chatMessages.appendChild(typingDiv);
    chatMessages.scrollTop = chatMessages.scrollHeight;
  }
  
  // Remove typing indicator
  function hideTyping() {
    const typingIndicator = document.getElementById('fc-typing-indicator');
    if (typingIndicator) typingIndicator.remove();
  }
  
  // Get response
  function getResponse(message) {
    const msg = message.toLowerCase();
    
    if (msg.includes('patronage') || msg.includes('dividend') || msg.includes('refund')) {
      return responses.patronage;
    } else if (msg.includes('loan') || msg.includes('application') || msg.includes('status')) {
      return responses.loan;
    } else if (msg.includes('agsunrise') || msg.includes('young farmer') || msg.includes('beginning')) {
      return responses.agsunrise;
    } else if (msg.includes('help') || msg.includes('support') || msg.includes('account')) {
      return responses.help;
    } else {
      return responses.default;
    }
  }
  
  // Send message
  function sendMessage() {
    const message = chatInput.value.trim();
    if (!message) return;
    
    // Add user message
    addMessage(message, true);
    chatInput.value = '';
    
    // Show typing
    showTyping();
    
    // Simulate AI response delay
    setTimeout(() => {
      hideTyping();
      const response = getResponse(message);
      addMessage(response);
    }, 800 + Math.random() * 400); // 800-1200ms delay
  }
  
  // Event listeners
  chatButton.addEventListener('click', toggleChat);
  chatClose.addEventListener('click', toggleChat);
  chatSend.addEventListener('click', sendMessage);
  
  chatInput.addEventListener('keypress', (e) => {
    if (e.key === 'Enter') {
      sendMessage();
    }
  });
  
  quickActions.forEach(btn => {
    btn.addEventListener('click', () => {
      const message = btn.getAttribute('data-message');
      chatInput.value = message;
      sendMessage();
    });
  });
  
  // Close on Escape
  document.addEventListener('keydown', (e) => {
    if (e.key === 'Escape' && chatOpen) {
      toggleChat();
    }
  });
  
  // Close modal when clicking outside
  chatModal.addEventListener('click', (e) => {
    if (e.target === chatModal) {
      toggleChat();
    }
  });
})();
</script>

</body>
</html>
